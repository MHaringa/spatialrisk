<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Find highest concentration — find_highest_concentration • spatialrisk</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Find highest concentration — find_highest_concentration"><meta property="og:description" content="Determines the central coordinates of a circle with a constant
radius that maximizes the coverage of demand points."><meta property="og:image" content="/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">spatialrisk</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.7.1.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/mharinga/spatialrisk/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Find highest concentration</h1>
    <small class="dont-index">Source: <a href="https://github.com/mharinga/spatialrisk/blob/HEAD/R/highest_concentration_terra.R" class="external-link"><code>R/highest_concentration_terra.R</code></a></small>
    <div class="hidden name"><code>find_highest_concentration.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Determines the central coordinates of a circle with a constant
radius that maximizes the coverage of demand points.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">find_highest_concentration</span><span class="op">(</span></span>
<span>  <span class="va">df</span>,</span>
<span>  <span class="va">value</span>,</span>
<span>  top_n <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  radius <span class="op">=</span> <span class="fl">200</span>,</span>
<span>  cell_size <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  grid_precision <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  lon <span class="op">=</span> <span class="st">"lon"</span>,</span>
<span>  lat <span class="op">=</span> <span class="st">"lat"</span>,</span>
<span>  crs_metric <span class="op">=</span> <span class="fl">3035</span>,</span>
<span>  print_progress <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>df</dt>
<dd><p>data.frame. Should include at least columns for longitude,
latitude, and the value of interest to summarize.</p></dd>


<dt>value</dt>
<dd><p>column name with value of interest to summarize in <code>df</code>.</p></dd>


<dt>top_n</dt>
<dd><p>positive integer value greater or equal to 1 (default is 1).</p></dd>


<dt>radius</dt>
<dd><p>numeric. Radius of the circle in meters (default is 200).</p></dd>


<dt>cell_size</dt>
<dd><p>numeric. Size of cell in meters (default is 100).</p></dd>


<dt>grid_precision</dt>
<dd><p>numeric. Precision of grid in meters (default is 1).</p></dd>


<dt>lon</dt>
<dd><p>column name in <code>df</code> with longitude (default is "lon").
Should be in   EPSG:4326.</p></dd>


<dt>lat</dt>
<dd><p>column name in <code>df</code> with latitude (default is "lat").
Should be in EPSG:4326.</p></dd>


<dt>crs_metric</dt>
<dd><p>numeric. The metric Coordinate Reference System (CRS) is
used solely in the background calculations. For European coordinates,
<a href="https://epsg.io/3035" class="external-link">EPSG:3035</a> (default) is recommended. For the
United States, <a href="https://epsg.io/6317" class="external-link">EPSG:6317</a> can be utilized. For
Asia and the Pacific regions, <a href="https://epsg.io/8859" class="external-link">EPSG:8859</a> is
recommended.</p></dd>


<dt>print_progress</dt>
<dd><p>print progress iteration steps.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>A list with two elements:</p><ol><li><p>A data.frame containing the <code>top_n</code> concentrations as specified
by <code>top_n</code>.</p></li>
<li><p>A data.frame containing the rows from <code>df</code> that correspond to the
<code>top_n</code> concentrations.</p></li>
</ol></div>
    <div id="details">
    <h2>Details</h2>
    <p>A recent regulation by the European Commission mandates insurance
companies to report the maximum value of insured fire risk policies for all
buildings partially or fully situated within a circle with a radius of 200
meters  (see Article 132 - fire risk sub-module - of the Delegated
Regulation). This article captures the risk of catastrophic fire or
explosion, including as a result of terrorist attacks. The sub-module is
based on the scenario that the insurance or reinsurance undertaking incurs a
loss equal to the capital insured for each building located partly or fully
within a radius of 200 meters.</p>
<p>This problem resembles a Maximal Covering Location Problem (MCLP)
with a fixed radius, belonging to the category of facility location problems.
The main aim is to select the best locations for a predetermined number of
facilities to achieve maximum coverage of demand points within a specified
radius of each facility. In essence, the objective is to identify optimal
facility locations to cover as many demand points as feasible, while ensuring
that each demand point falls within the designated distance (radius) of at
least one facility.</p>
    </div>
    <div id="references">
    <h2>References</h2>
    <p>Commission Delegated Regulation (EU) (2015). Solvency II
Delegated Act 2015/35. Official Journal of the European Union, 58:124.</p>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Martin Haringa</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu">find_highest_concentration</span><span class="op">(</span><span class="va">Groningen</span>, <span class="st">"amount"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">y</span> <span class="op">&lt;-</span> <span class="fu">find_highest_concentration</span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="va">Groningen</span>, <span class="st">"amount"</span>, top_n <span class="op">=</span> <span class="fl">2</span>, cell_size <span class="op">=</span> <span class="fl">50</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Finished 1 of 2Finished 2 of 2</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">y</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Martin Haringa.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

      </footer></div>

  


  

  </body></html>

