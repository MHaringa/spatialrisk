<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Find highest concentration — find_highest_concentration • spatialrisk</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Open_Sans-0.4.9/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Find highest concentration — find_highest_concentration"><meta name="description" content="Determines the central coordinates of a circle with a constant
radius that maximizes the coverage of demand points."><meta property="og:description" content="Determines the central coordinates of a circle with a constant
radius that maximizes the coverage of demand points."><meta property="og:image" content="https://mharinga.github.io/spatialrisk/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">spatialrisk</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.7.1.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="external-link nav-link" href="https://github.com/mharinga/spatialrisk/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Find highest concentration</h1>
      <small class="dont-index">Source: <a href="https://github.com/mharinga/spatialrisk/blob/HEAD/R/highest_concentration_terra.R" class="external-link"><code>R/highest_concentration_terra.R</code></a></small>
      <div class="d-none name"><code>find_highest_concentration.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Determines the central coordinates of a circle with a constant
radius that maximizes the coverage of demand points.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">find_highest_concentration</span><span class="op">(</span></span>
<span>  <span class="va">df</span>,</span>
<span>  <span class="va">value</span>,</span>
<span>  top_n <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  radius <span class="op">=</span> <span class="fl">200</span>,</span>
<span>  cell_size <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  grid_precision <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  lon <span class="op">=</span> <span class="st">"lon"</span>,</span>
<span>  lat <span class="op">=</span> <span class="st">"lat"</span>,</span>
<span>  crs_metric <span class="op">=</span> <span class="fl">3035</span>,</span>
<span>  print_progress <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-df">df<a class="anchor" aria-label="anchor" href="#arg-df"></a></dt>
<dd><p>data.frame. Should include at least columns for longitude,
latitude, and the value of interest to summarize.</p></dd>


<dt id="arg-value">value<a class="anchor" aria-label="anchor" href="#arg-value"></a></dt>
<dd><p>column name with value of interest to summarize in <code>df</code>.</p></dd>


<dt id="arg-top-n">top_n<a class="anchor" aria-label="anchor" href="#arg-top-n"></a></dt>
<dd><p>positive integer value greater or equal to 1 (default is 1).</p></dd>


<dt id="arg-radius">radius<a class="anchor" aria-label="anchor" href="#arg-radius"></a></dt>
<dd><p>numeric. Radius of the circle in meters (default is 200).</p></dd>


<dt id="arg-cell-size">cell_size<a class="anchor" aria-label="anchor" href="#arg-cell-size"></a></dt>
<dd><p>numeric. Size of cell in meters (default is 100).</p></dd>


<dt id="arg-grid-precision">grid_precision<a class="anchor" aria-label="anchor" href="#arg-grid-precision"></a></dt>
<dd><p>numeric. Precision of grid in meters (default is 1).</p></dd>


<dt id="arg-lon">lon<a class="anchor" aria-label="anchor" href="#arg-lon"></a></dt>
<dd><p>column name in <code>df</code> with longitude (default is "lon").
Should be in   EPSG:4326.</p></dd>


<dt id="arg-lat">lat<a class="anchor" aria-label="anchor" href="#arg-lat"></a></dt>
<dd><p>column name in <code>df</code> with latitude (default is "lat").
Should be in EPSG:4326.</p></dd>


<dt id="arg-crs-metric">crs_metric<a class="anchor" aria-label="anchor" href="#arg-crs-metric"></a></dt>
<dd><p>numeric. The metric Coordinate Reference System (CRS) is
used solely in the background calculations. For European coordinates,
<a href="https://epsg.io/3035" class="external-link">EPSG:3035</a> (default) is recommended. For the
United States, <a href="https://epsg.io/6317" class="external-link">EPSG:6317</a> can be utilized. For
Asia and the Pacific regions, <a href="https://epsg.io/8859" class="external-link">EPSG:8859</a> is
recommended.</p></dd>


<dt id="arg-print-progress">print_progress<a class="anchor" aria-label="anchor" href="#arg-print-progress"></a></dt>
<dd><p>print progress iteration steps.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A list with two elements:</p><ol><li><p>A data.frame containing the <code>top_n</code> concentrations as specified
by <code>top_n</code>.</p></li>
<li><p>A data.frame containing the rows from <code>df</code> that correspond to the
<code>top_n</code> concentrations.</p></li>
</ol></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>A recent regulation by the European Commission mandates insurance
companies to report the maximum value of insured fire risk policies for all
buildings partially or fully situated within a circle with a radius of 200
meters  (see Article 132 - fire risk sub-module - of the Delegated
Regulation). This article captures the risk of catastrophic fire or
explosion, including as a result of terrorist attacks. The sub-module is
based on the scenario that the insurance or reinsurance undertaking incurs a
loss equal to the capital insured for each building located partly or fully
within a radius of 200 meters.</p>
<p>This problem resembles a Maximal Covering Location Problem (MCLP)
with a fixed radius, belonging to the category of facility location problems.
The main aim is to select the best locations for a predetermined number of
facilities to achieve maximum coverage of demand points within a specified
radius of each facility. In essence, the objective is to identify optimal
facility locations to cover as many demand points as feasible, while ensuring
that each demand point falls within the designated distance (radius) of at
least one facility.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Commission Delegated Regulation (EU) (2015). Solvency II
Delegated Act 2015/35. Official Journal of the European Union, 58:124.</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Martin Haringa</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu">find_highest_concentration</span><span class="op">(</span><span class="va">Groningen</span>, <span class="st">"amount"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">y</span> <span class="op">&lt;-</span> <span class="fu">find_highest_concentration</span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="va">Groningen</span>, <span class="st">"amount"</span>, top_n <span class="op">=</span> <span class="fl">2</span>, cell_size <span class="op">=</span> <span class="fl">50</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Finished 1 of 2Finished 2 of 2</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">y</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Martin Haringa.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

